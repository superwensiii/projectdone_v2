;/*FB_PKG_DELIM*/

__d("MWChatEmojiPickerWithSearch.react",["fbt","CometEmojiPickerSearchResults.react","CometPlaceholder.react","CometProgressIndicator.react","CometRoundedTextInput.react","MWChatEmojiCategorySelector.react","MWChatReactionsUtils","MWPBumpEntityKey","MWXCircleButton.react","MWXColumn.react","MWXColumnItem.react","MWXIconCross","MWXIconMagnifyingGlass","MWXIconStrict.react","react","stylex","useMWV2ComposerEmojiPickerSearchResults"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k=j||(j=d("react"));b=j;var l=b.useCallback,m=b.useMemo,n=b.useState,o={emojiPicker:{paddingStart:"xurb0ha",paddingLeft:null,paddingRight:null,paddingEnd:"x1sxyh0",$$css:!0},emojiPickerContainer:{paddingTop:"xz9dl7a",width:"xj6ak53",$$css:!0},emojiPickerContainerSmall:{paddingTop:"xexx8yu",width:"xlro9se",$$css:!0},loader:{height:"x5yr21d",$$css:!0}};function p(a){var b=a.searchQuery,d=a.setSearchQuery;a=h._("__JHASH__Mmd09neoU2L__JHASH__");var e=m(function(){return b.length!==0?k.jsx(c("MWXCircleButton.react"),{color:"tertiary",icon:c("MWXIconCross"),label:h._("__JHASH__sW-yT_UpZ7j__JHASH__"),onPress:function(){return d("")},size:24}):null},[b.length,d]),f=l(function(a){return d((a=a.target.value)!=null?a:"")},[d]);return k.jsx("div",{className:"x12nagc xurb0ha x1sxyh0",children:k.jsx(c("CometRoundedTextInput.react"),{addOnEnd:e,"aria-label":a,autoFocus_PLEASE_USE_FOCUS_REGION_INSTEAD:!0,icon:k.jsx(c("MWXIconStrict.react"),{color:"tertiary",icon:c("MWXIconMagnifyingGlass"),size:16}),onChange:f,placeholder:a,spellCheck:!1,value:b})})}p.displayName=p.name+" [from "+f.id+"]";function a(a){var b=a.gridColumns;b=b===void 0?8:b;var e=a.isBroadcastChannel,f=a.onSelect,g=a.selectedEmojis;a=a.topSection;a=a===void 0?null:a;var h=n(""),j=h[0];h=h[1];var l=c("useMWV2ComposerEmojiPickerSearchResults")(j),q=m(function(){return e===!0?d("MWChatReactionsUtils").getHarmfulEmojisForBroadcastChannels():new Set()},[e]);return k.jsxs("div",{className:(i||(i=c("stylex")))(b===8?o.emojiPickerContainer:o.emojiPickerContainerSmall),children:[k.jsx(p,{searchQuery:j,setSearchQuery:h}),k.jsx("div",{className:"xo4zgqt",role:"grid",children:k.jsx(c("CometPlaceholder.react"),{fallback:k.jsx(c("MWXColumn.react"),{align:"center",expanding:!0,verticalAlign:"center",xstyle:o.loader,children:k.jsx(c("MWXColumnItem.react"),{children:k.jsx(c("CometProgressIndicator.react"),{})})}),children:k.jsx(d("CometEmojiPickerSearchResults.react").CometEmojiPickerSearchResults,{blocklistedEmojis:q,categorySelector:c("MWChatEmojiCategorySelector.react"),gridColumns:b,height:265,isBroadcastChannel:e,onSelect:function(a){d("MWPBumpEntityKey").bumpEntityKeyWithAppId("mw.reactions",j.trim()===""?"select_reaction":"select_reaction.search");return f(a)},query:l,searchQuery:j,selectedEmojis:g,topSection:a,xstyle:o.emojiPicker})})})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("MWChatEmojiPicker.react",["fbt","CometEmojiGrid.react","CometFocusTable.react","I64","Int64Hooks","JSResourceForInteraction","MWChatEmojiPickerWithSearch.react","MWChatMessageId","MWPBumpEntityKey","MWXPopover.react","MWXPressable.react","MWXText.react","UnicodeUtils","react","requireDeferred","useMWXLazyDialog"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k,l=i||(i=d("react"));b=i;var m=b.useCallback,n=b.useMemo,o=c("requireDeferred")("MWChatCustomReactionsLog").__setRef("MWChatEmojiPicker.react"),p=c("JSResourceForInteraction")("MWChatCustomizeReactionsDialog.react").__setRef("MWChatEmojiPicker.react"),q={customizeButtonSearch:{borderTopStartRadius:"x1lcm9me",borderTopEndRadius:"x1yr5g0i",borderBottomEndRadius:"xrt01vj",borderBottomStartRadius:"x10y3i5r",paddingTop:"x1yrsyyn",paddingEnd:"xsyo7zv",paddingBottom:"x10b6aqq",paddingStart:"x16hj40l",$$css:!0}};function r(a){var b=a.isBroadcastChannel,e=a.messageID,f=a.onSelect,g=a.reactions,i=a.selectedEmojis,r=a.threadKey,s=n(function(){return g.map(function(a){return{codepoints:(j||(j=d("UnicodeUtils"))).getCodePoints(a.emoji),id:(k||(k=d("I64"))).to_string(a.emojiIdx)}})},[g]),t=d("Int64Hooks").useCallbackInt64(function(){o.onReady(function(a){return a.logEnterCustomizeFlow(e,r)})},[r,e]),u=m(function(a){d("MWPBumpEntityKey").bumpEntityKeyWithAppId("mw.reactions","select_reaction.quick");return f(a,0,0)},[f]);a=c("useMWXLazyDialog")(p);var v=a[0];a=d("Int64Hooks").useMemoInt64(function(){var a={isBroadcastChannel:b,messageID:e,reactions:g,threadKey:r},f=function(){return v(a,function(){})};return l.jsxs("div",{children:[l.jsx(d("CometFocusTable.react").CometFocusRow,{role:"row",children:l.jsx(d("CometFocusTable.react").CometFocusCell,{children:l.jsx("div",{className:"x78zum5 xds687c x17qophe x13a6bvl x1kgmq87 x10l6tqk",children:l.jsx(c("MWXPressable.react"),{onPress:function(a){f();return t()},testid:void 0,xstyle:q.customizeButtonSearch,children:l.jsx(c("MWXText.react"),{type:"bodyLink4",children:h._("__JHASH__BBwala8AXtL__JHASH__")})})})})}),l.jsx(c("CometEmojiGrid.react"),{columns:6,emojiCollection:s,emojiSize:30,emojiSpacing:2,label:h._("__JHASH__tjhP6Qce-iG__JHASH__"),onClick:u,selectedEmojis:i},"your-reactions-grid")]})},[s,u,i,t,v,e,g,r,b]);return l.jsx(c("MWXPopover.react"),{testid:void 0,withArrow:!0,children:l.jsx("div",{className:"x889kno xlro9se",children:l.jsx(c("MWChatEmojiPickerWithSearch.react"),{gridColumns:6,isBroadcastChannel:b,onSelect:function(a){return f(a,0,0)},selectedEmojis:i,topSection:a})})})}r.displayName=r.name+" [from "+f.id+"]";function a(a){var b=a.isBroadcastChannel,c=a.messageID,e=a.onSelect,f=a.reactions;a=a.selectedEmojis;var g=d("MWChatMessageId").getMessageId(c);c=d("MWChatMessageId").getThreadId(c);if(g!=null&&c!=null)return l.jsx(r,{isBroadcastChannel:b,messageID:g,onSelect:e,reactions:f,selectedEmojis:a,threadKey:c});else return null}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("MWXIconPlus",["MWXSvgIcon","SVGIcon","cr:9254","gkx"],(function(a,b,c,d,e,f,g){"use strict";a=d("MWXSvgIcon").mwxSvgIcon(d("SVGIcon").svgIcon(b("cr:9254")),c("gkx")("23219"));g["default"]=a}),98);
__d("MWChatReactionsMenu.react",["fbt","EmojiRenderer","FocusRegion.react","I64","KeyCommandHandler.react","LSEmojiSetsType","LSIntEnum","MWChatEmojiPicker.react","MWChatMessageBothOrientationFocusGroup.react","MWChatMessageId","MWChatReactionEmoji","MWChatReactionsUtils","MWMessageCellFocusTable.react","MWPBumpEntityKey","MWXCircleButton.react","MWXIconPlus","MWXPressable.react","ReQL","ReQLSuspense","cr:4708","focusScopeQueries","gkx","justknobx","react","recoverableViolation","stylex","useIsMultiReactionEnabled","useMWChatGetSelectedReactions.react","useMWInboxPassiveContext","useReStore"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k,l,m,n=m||(m=d("react"));e=m;var o=e.useCallback,p=e.useMemo,q={emojiButtonForMultiReact:{marginEnd:"xfs2ol5",$$css:!0},hoverAnimation:{":hover_animationDuration":"x84p28k",":hover_animationFillMode":"x1ut1ngg",":hover_animationName":"x17h135x",":hover_animationTimingFunction":"xkhk4ki",$$css:!0},item:{display:"x1rg5ohu",paddingTop:"x1nn3v0j",paddingEnd:"xg83lxy",paddingBottom:"x1120s5i",paddingStart:"x1h0ha7o",$$css:!0},selected:{backgroundColor:"x1vtvx1t",borderTopStartRadius:"x1lq0und",borderTopEndRadius:"x904243",borderBottomEndRadius:"xunswzr",borderBottomStartRadius:"x1hba98",$$css:!0}},r=(e=c("justknobx")._("745"))!=null?e:!1;function s(a,b){var e=(i||(i=c("useReStore")))(),g=d("ReQLSuspense").useArray(function(){return d("ReQL").fromTableDescending(e.tables.emoji_sets).filter(function(a){return(k||(k=d("I64"))).equal(a.type_,(l||(l=d("LSIntEnum"))).ofNumber(c("LSEmojiSetsType").USER_GENERATED))})},[e],f.id+":104"),h=p(function(){return g.sort(function(a,b){return(k||(k=d("I64"))).compare(a.sortKey,b.sortKey)}).reduce(function(a,b){var c=b.emoji;if(c!=null)return a.concat([{categoryIdx:b.categoryIdx,emoji:c,emojiIdx:b.emojiIdx,sortKey:b.sortKey,type_:b.type_}]);else return a},[])},[g]),j=h.length===d("MWChatReactionsUtils").cUSTOM_REACTIONS_NUM;if(b===!0)return d("MWChatReactionsUtils").defaultCustomizableReactions;if(a)if(j)return h;else return d("MWChatReactionsUtils").defaultCustomizableReactions;else return d("MWChatReactionsUtils").defaultStaticReactions}function t(a){var e=a.emoji,f=a.onSelect,g=a.selected;a=c("useMWInboxPassiveContext")();var h=a.setIsPassive;a=p(function(){return d("EmojiRenderer").parse(e).map(function(a){return a.emoji})},[e]);if(a.length!==1){c("recoverableViolation")("Unable to parse reaction emoji "+e,"messenger_web_messaging");return null}a=a[0];a=n.jsx(d("MWMessageCellFocusTable.react").FocusTable[2],{children:n.jsx(c("MWXPressable.react"),{onPress:function(){c("gkx")("24041")&&h(!1);return f()},overlayDisabled:!0,role:"menuitem",xstyle:function(){return[q.item,g?q.selected:!1]},children:n.jsx("div",{className:(j||(j=c("stylex")))(c("gkx")("4021")&&q.hoverAnimation),children:b("cr:4708")==null?n.jsx(c("MWChatReactionEmoji"),{emoji:a,size:32,testid:void 0}):n.jsx(b("cr:4708"),{emoji:a,hasTooltip:!0,size:32,testid:void 0})})})});return n.jsx(d("MWChatMessageBothOrientationFocusGroup.react").FocusGroupItem,{children:a})}t.displayName=t.name+" [from "+f.id+"]";function a(a){var b=a.closeActionsMenu,e=a.disableCustomReactions,f=a.isBroadcastChannel,g=a.isBroadcastThread,i=a.isSecure,k=a.messageID,l=a.onClose,m=a.onSelect,p=a.setShowEmojiPicker,u=a.showEmojiPicker;a=d("MWChatMessageId").getThreadId(k);var v=d("useIsMultiReactionEnabled").useIsMultiReactEnabled(a);a=i!=null?i:!1;i=e!=null?e:!1;e=h._("__JHASH__plktFYNJzZQ__JHASH__");i=a?r:!i;g=s(i,g);var w=c("useMWChatGetSelectedReactions.react")(k,a);a=o(function(a){var c=a.key;c==="Escape"?b():(!u&&(c==="ArrowUp"||c==="ArrowDown")||c==="ArrowLeft"||c==="ArrowRight"||c==="PageUp"||c==="PageDown"||c==="Home"||c==="End")&&a.stopPropagation()},[b,u]);var x=n.jsx(c("MWXCircleButton.react"),{icon:c("MWXIconPlus"),label:h._("__JHASH__GfhBg8T022r__JHASH__"),onPress:function(){return p(function(a){return!a})},size:36,testid:void 0,type:"normal"}),y=o(function(a){a=String.fromCodePoint.apply(String,a);m(a,w);l()},[m,w,l]);f=u?n.jsx(d("FocusRegion.react").FocusRegion,{autoFocusQuery:d("focusScopeQueries").tabbableScopeQuery,children:n.jsx(c("MWChatEmojiPicker.react"),{isBroadcastChannel:f,messageID:k,onSelect:y,reactions:g,selectedEmojis:w})}):n.jsx("div",{"aria-label":e,"aria-orientation":"horizontal",className:"x2bj2ny x1z11no5 xjy5m1g x1mnwbp6 x4pb5v6 x1ejq31n xd10rxx x1sy0etr x17r0tee x104qc98 x78zum5 x1y1aw1k xwib8y2 x1ye3gou xn6708d",role:"menu",children:g.map(function(a){var b=a.emoji;return n.jsx("div",{className:(j||(j=c("stylex")))(v?q.emojiButtonForMultiReact:null),children:n.jsx(t,{emoji:b,onSelect:function(){m(b,w),d("MWPBumpEntityKey").bumpEntityKeyWithAppId("mw.reactions","select_reaction.quick"),l()},selected:w.includes(b)})},b)}).concat([i?n.jsx(d("MWChatMessageBothOrientationFocusGroup.react").FocusGroupItem,{children:x},"plus-button"):null])});return n.jsx(d("MWChatMessageBothOrientationFocusGroup.react").FocusGroup,{allowModifiers:!0,orientation:"both",preventScrollOnFocus:!1,tabScopeQuery:d("focusScopeQueries").tabbableScopeQuery,children:n.jsx(c("KeyCommandHandler.react"),{onKeyDown:a,children:f})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("PlusFilled12.svg.react",["react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){return i.jsxs("svg",babelHelpers["extends"]({viewBox:"0 0 12 13",width:"1em",height:"1em",fill:"currentColor"},a,{children:[a.title!=null&&i.jsx("title",{children:a.title}),a.children!=null&&i.jsx("defs",{children:a.children}),i.jsx("g",{fillRule:"evenodd",transform:"translate(-450 -1073)",children:i.jsxs("g",{fillRule:"nonzero",children:[i.jsx("path",{d:"M97.75 921h8a.75.75 0 1 0 0-1.5h-8a.75.75 0 1 0 0 1.5z",transform:"translate(354.5 159.5)"}),i.jsx("path",{d:"M102.5 924.25v-8a.75.75 0 1 0-1.5 0v8a.75.75 0 1 0 1.5 0z",transform:"translate(354.5 159.5)"})]})})]}))}a.displayName=a.name+" [from "+f.id+"]";a._isSVG=!0;b=a;g["default"]=b}),98);